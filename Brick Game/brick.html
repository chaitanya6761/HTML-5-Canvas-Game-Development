<html>

<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>
var canvas;
var canvasContext;

var ballX = 50;
var ballY = 50;
var ballSpeedX = 10;
var ballSpeedY = 4;

var paddleX = 350;

const PADDLE_WIDTH = 100;
const PADDlE_THICKNESS = 10;

function updateMousePos(evt)
{
	var rect = canvas.getBoundingClientRect();
	var root = document.documentElement;
	var mouseX = evt.clientX - rect.left - root.scrollLeft;
	var mouseY = evt.clientY - rect.top - root.scrollTop;
	
	paddleX = mouseX - PADDLE_WIDTH/2;
}

window.onload = function(){

	canvas = document.getElementById('gameCanvas');
	canvasContext = canvas.getContext('2d');
	
	var framesPerSecond = 30;
	setInterval(function(){
	moveEveryThing();
	drawEveryThing();
	}, 1000/framesPerSecond );
	
	canvas.addEventListener('mousemove',updateMousePos);
	
	
}

function ballReset()
{
	ballX = canvas.width/2;
	ballY = canvas.height/2;
}

function moveEveryThing()
{
	ballX = ballX + ballSpeedX;
	ballY = ballY + ballSpeedY;
	
	if(ballX > canvas.width || ballX < 0)
	{
		ballSpeedX = - ballSpeedX;
	}
	
	if(ballY < 0)
	{
		ballSpeedY *= -1;
	}
	
	if(ballY > canvas.height)
	{
		//ballSpeedY = - ballSpeedY;
		ballReset();
	}
}


function drawEveryThing()
{ 
	//draw the canvas
	colorRect(0,0,canvas.width,canvas.height,'grey');
	
	//draw the paddle
	colorRect(paddleX,canvas.height - 20,PADDLE_WIDTH,PADDlE_THICKNESS,'yellow');
	
	//draws the ball 
	colorCircle(ballX,ballY,10,'white');
		
}

function colorRect(leftX,topY,width,height,drawColor)
{
	canvasContext.fillStyle = drawColor;
	canvasContext.fillRect(leftX,topY,width,height);
}

function colorCircle(centerX,centerY,radius,drawColor)
{
	canvasContext.fillStyle = drawColor;
	canvasContext.beginPath();
	canvasContext.arc(centerX,centerY,radius,0,Math.PI*2,true);
	canvasContext.fill();
}

</script>

</html>
